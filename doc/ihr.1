.TH IHR 1 "20 May 1999" "WFDB software 10.0" "WFDB applications"
.SH NAME
ihr \- calculate instantaneous heart rate
.SH SYNOPSIS
\fBihr -r \fIrecord\fB -a \fIannotator\fR [ \fIoptions\fR ... ]
.SH DESCRIPTION
.PP
\fIihr\fR reads an annotation file (specified by the \fIannotator\fR
and \fIrecord\fR arguments) and produces an instantaneous heart rate
signal (from the reciprocals of the interbeat intervals.)  Unlike
\fItach\fR(1), however, \fIihr\fR does not resample its output in
order to obtain uniform time intervals between output samples.  (If
there is any variation whatsoever in heart rate, the intervals between
output samples will be non-uniform.)  This property makes the output
of \fIihr\fR unsuitable for conventional power spectral density estimation,
but ideal for PSD estimation using the Lomb periodogram (see \fIlomb\fR(1)).
.PP
\fIOptions\fR include:
.TP
\fB-d\fI tolerance\fR
Reject beat-to-beat heart rate changes exceeding \fItolerance\fR (in beats per
minute).  Any intervals for which the calculated heart rate would differ by
more than the specified tolerance are simply excluded from the output series.
.TP
\fB-f\fI time\fR
Begin at the specified \fItime\fR in \fIrecord\fR (default: the beginning of
\fIrecord\fR).
.TP
\fB-h\fR
Print a usage summary.
.TP
\fB-t\fI time\fR
Process until the specified \fItime\fR in \fIrecord\fR (default: the end of the
\fIrecord\fR).
.TP
\fB-x\fR
Exclude all intervals adjacent to abnormal beats.  By default, such intervals
are included (unless they are rejected by the \fItolerance\fR criterion), and
a third column is used to flag these intervals as abnormal (a zero in the
third column means the interval is normal, a one means it is abnormal).
.PP
Reference (`atruth') annotation files can be used as input to \fIihr\fR,
but files that contain manually-inserted annotations are less suitable,
since annotation placement is likely to be less consistent than in annotation
files generated by programs such as \fIsqrs\fR(1). 
.PP
The shell variable \fBWFDB\fR should be set and exported (see
\fIsetwfdb\fR(1)).
.SH SEE ALSO
lomb(1), setwfdb(1), sqrs(1), tach(1)
